import{g as Gr,a as $r}from"./index-CHFKOMdc.js";var Z={},Q={},Ke,St;function zr(){if(St)return Ke;St=1;const r=2147483648;var t=function(n){if(!Array.isArray(n))throw new Error("Input must be an Array");if(n.length===0)throw new Error("Path must contain at least one level");for(var c=0;c<n.length;c++)if(typeof n[c]!="number")throw new Error("Path element is not a number");this.path=n};return t.validatePathArray=function(n){try{return t.fromPathArray(n),!0}catch{return!1}},t.validateString=function(n,c){try{return t.fromString(n,c),!0}catch{return!1}},t.fromPathArray=function(n){return new t(n)},t.fromString=function(n,c){if(/^m\//i.test(n))n=n.slice(2);else if(c)throw new Error("Root element is required");for(var d=n.split("/"),e=new Array(d.length),a=0;a<d.length;a++){var s=/(\d+)([hH\']?)/.exec(d[a]);if(s===null)throw new Error("Invalid input");if(e[a]=parseInt(s[1],10),e[a]>=r)throw new Error("Invalid child index");if(s[2]==="h"||s[2]==="H"||s[2]==="'")e[a]+=r;else if(s[2].length!=0)throw new Error("Invalid modifier")}return new t(e)},t.prototype.toPathArray=function(){return this.path},t.prototype.toString=function(n,c){for(var d=new Array(this.path.length),e=0;e<this.path.length;e++){var a=this.path[e];a&r?d[e]=(a&~r)+(c?"h":"'"):d[e]=a}return(n?"":"m/")+d.join("/")},t.prototype.inspect=function(){return"BIPPath <"+this.toString()+">"},Ke=t,Ke}var At;function Kr(){if(At)return Q;At=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.Path=void 0;const r=zr();let t=class{constructor(c){this.bipArray=r.fromString(c).toPathArray()}encode(){const c=Buffer.alloc(1+this.bipArray.length*4);return c.writeInt8(this.bipArray.length),this.bipArray.forEach((d,e)=>{c.writeUInt32BE(d,1+e*4)}),c}get size(){return this.bipArray.length}};return Q.Path=t,Q}var Je={},ee={},te={},re={},bt;function N(){if(bt)return re;bt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.OperationEncoder=void 0;let r=class{constructor(n){this.operationId=n}};return re.OperationEncoder=r,re}var Y={},Ye,xt;function Jr(){if(xt)return Ye;xt=1,Ye=c;var r=128,t=-128,n=Math.pow(2,31);function c(d,e,a){if(Number.MAX_SAFE_INTEGER&&d>Number.MAX_SAFE_INTEGER)throw c.bytes=0,new RangeError("Could not encode varint");e=e||[],a=a||0;for(var s=a;d>=n;)e[a++]=d&255|r,d/=128;for(;d&t;)e[a++]=d&255|r,d>>>=7;return e[a]=d|0,c.bytes=a-s+1,e}return Ye}var Xe,mt;function Yr(){if(mt)return Xe;mt=1,Xe=n;var r=128,t=127;function n(c,a){var e=0,a=a||0,s=0,o=a,i,l=c.length;do{if(o>=l||s>49)throw n.bytes=0,new RangeError("Could not decode varint");i=c[o++],e+=s<28?(i&t)<<s:(i&t)*Math.pow(2,s),s+=7}while(i>=r);return n.bytes=o-a,e}return Xe}var Ze,yt;function Xr(){if(yt)return Ze;yt=1;var r=Math.pow(2,7),t=Math.pow(2,14),n=Math.pow(2,21),c=Math.pow(2,28),d=Math.pow(2,35),e=Math.pow(2,42),a=Math.pow(2,49),s=Math.pow(2,56),o=Math.pow(2,63);return Ze=function(i){return i<r?1:i<t?2:i<n?3:i<c?4:i<d?5:i<e?6:i<a?7:i<s?8:i<o?9:10},Ze}var Qe,Ot;function Zr(){return Ot||(Ot=1,Qe={encode:Jr(),decode:Yr(),encodingLength:Xr()}),Qe}var et,wt;function Qr(){if(wt)return et;wt=1;function r(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),c=0;c<n.length;c++)n[c]=255;for(var d=0;d<t.length;d++){var e=t.charAt(d),a=e.charCodeAt(0);if(n[a]!==255)throw new TypeError(e+" is ambiguous");n[a]=d}var s=t.length,o=t.charAt(0),i=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var _=0,m=0,U=0,R=p.length;U!==R&&p[U]===0;)U++,_++;for(var y=(R-U)*l+1>>>0,q=new Uint8Array(y);U!==R;){for(var O=p[U],I=0,V=y-1;(O!==0||I<m)&&V!==-1;V--,I++)O+=256*q[V]>>>0,q[V]=O%s>>>0,O=O/s>>>0;if(O!==0)throw new Error("Non-zero carry");m=I,U++}for(var C=y-m;C!==y&&q[C]===0;)C++;for(var g=o.repeat(_);C<y;++C)g+=t.charAt(q[C]);return g}function E(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var _=0,m=0,U=0;p[_]===o;)m++,_++;for(var R=(p.length-_)*i+1>>>0,y=new Uint8Array(R);p[_];){var q=p.charCodeAt(_);if(q>255)return;var O=n[q];if(O===255)return;for(var I=0,V=R-1;(O!==0||I<U)&&V!==-1;V--,I++)O+=s*y[V]>>>0,y[V]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");U=I,_++}for(var C=R-U;C!==R&&y[C]===0;)C++;for(var g=new Uint8Array(m+(R-C)),v=m;C!==R;)g[v++]=y[C++];return g}function b(p){var _=E(p);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:E,decode:b}}return et=r,et}var tt,Tt;function en(){return Tt||(Tt=1,tt=Qr()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),tt}var It;function P(){if(It)return Y;It=1;var r=Y&&Y.__createBinding||(Object.create?(function(a,s,o,i){i===void 0&&(i=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,i,l)}):(function(a,s,o,i){i===void 0&&(i=o),a[i]=s[o]})),t=Y&&Y.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),n=Y&&Y.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var o in a)o!=="default"&&Object.prototype.hasOwnProperty.call(a,o)&&r(s,a,o);return t(s,a),s};Object.defineProperty(Y,"__esModule",{value:!0}),Y.Encoder=void 0;const c=n(Zr()),d=en();let e=class{};return Y.Encoder=e,e.precisionTable={HIVE:3,HBD:3,STEEM:3,SBD:3,TBD:3,TESTS:3,VESTS:6},e.encodeOperationType=a=>Buffer.alloc(1,a),e.encodeBoolean=a=>Buffer.from([a?1:0]),e.encodeDateTime=a=>{const s=new Date(a+"Z").getTime()/1e3;return e.encodeUInt32(s)},e.encodeString=a=>a?Buffer.concat([e.encodeVarint32(a.length),Buffer.from(a)]):Buffer.from([0]),e.encodeUInt8=a=>{const s=Buffer.alloc(1);return s.writeUInt8(a),s},e.encodeUInt16=a=>{const s=Buffer.alloc(2);return s.writeUInt16LE(a),s},e.encodeInt16=a=>{const s=Buffer.alloc(2);return s.writeInt16LE(a),s},e.encodeUInt32=a=>{const s=Buffer.alloc(4);return s.writeUInt32LE(a),s},e.encodeUInt64=a=>{const s=Buffer.alloc(8);let o=a.toString(16);for(;o.length<16;)o="0"+o;return s.write(o,0,8,"hex"),s.reverse()},e.encodeVarint32=a=>Buffer.from(c.encode(a)),e.encodeAsset=a=>{const s=Buffer.alloc(16),[o,i]=a.split(" "),l=e.precisionTable[e.convertAssetSybol(i)];let u=Math.round(parseFloat(o)*Math.pow(10,l));e.encodeUInt64(u).copy(s,0),s.writeUInt8(l,8);for(let E=0;E<e.convertAssetSybol(i).length;E++)s.writeUInt8(e.convertAssetSybol(i).charCodeAt(E),9+E);return s},e.Array=(a,s)=>{var o,i;return Buffer.concat([e.encodeVarint32((o=s?.length)!==null&&o!==void 0?o:0),...(i=s?.map(a))!==null&&i!==void 0?i:[]])},e.Optional=(a,s)=>s?Buffer.concat([Buffer.from([1]),a(s)]):Buffer.from([0]),e.encodePublicKey=a=>{const s=a.slice(3),o=d.decode(s);return o.slice(0,o.length-4)},e.encodeAuthorityType=a=>Buffer.concat([e.encodeUInt32(a.weight_threshold),e.Array(s=>Buffer.concat([e.encodeString(s[0]),e.encodeUInt16(s[1])]),a.account_auths),e.Array(s=>Buffer.concat([e.encodePublicKey(s[0]),e.encodeUInt16(s[1])]),a.key_auths)]),e.encodeEmpty=()=>{throw new Error("This field is not supported yet.")},e.convertAssetSybol=a=>{switch(a){case"HIVE":return"STEEM";case"HBD":return"SBD";default:return a}},Y}var ne={},Ct;function D(){if(Ct)return ne;Ct=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.Validator=void 0;const r=127;let t=class{};return ne.Validator=t,t.validateString=n=>n.length<=r,t.validateAuthorityType=n=>{if(!n)return!0;const c=n.account_auths.map(a=>`[ ${a[0]}, ${a[1]} ]`).join(", "),d=n.key_auths.map(a=>`[ ${a[0]}, ${a[1]} ]`).join(", "),e=`Weight: ${n.weight_threshold}, [ ${c} ], [ ${d} ]`;return t.validateString(e)},t.validateArrayOfStrings=n=>{const c=`[ ${n.join(", ")} ]`;return t.validateString(c)},t.validateArrayOfUInt64=n=>{const c=`[ ${n.join(", ")} ]`;return t.validateString(c)},t.validateBeneficiaries=n=>{const c=`Beneficiaries: [ ${n.map(d=>`[ ${d.account}, ${(d.weight/100).toFixed(2)}% ]`).join(", ")} ]`;return t.validateString(c)},ne}var Bt;function tn(){if(Bt)return te;Bt=1,Object.defineProperty(te,"__esModule",{value:!0}),te.Vote=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.voter),t.Encoder.encodeString(e.author),t.Encoder.encodeString(e.permlink),t.Encoder.encodeInt16(e.weight)])}validate(e){return n.Validator.validateString(e.voter)&&n.Validator.validateString(e.author)&&n.Validator.validateString(e.permlink)}};return te.Vote=c,te}var oe={},Vt;function rn(){if(Vt)return oe;Vt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.Transfer=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.from),t.Encoder.encodeString(e.to),t.Encoder.encodeAsset(e.amount),t.Encoder.encodeString(e.memo)])}validate(e){return n.Validator.validateString(e.from)&&n.Validator.validateString(e.to)&&n.Validator.validateString(e.memo)}};return oe.Transfer=c,oe}var ie={},Rt;function nn(){if(Rt)return ie;Rt=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.Comment=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.parent_author),t.Encoder.encodeString(e.parent_permlink),t.Encoder.encodeString(e.author),t.Encoder.encodeString(e.permlink),t.Encoder.encodeString(e.title),t.Encoder.encodeString(e.body),t.Encoder.encodeString(e.json_metadata)])}validate(e){return n.Validator.validateString(e.parent_author)&&n.Validator.validateString(e.parent_permlink)&&n.Validator.validateString(e.author)&&n.Validator.validateString(e.permlink)&&n.Validator.validateString(e.title)&&n.Validator.validateString(e.body)&&n.Validator.validateString(e.json_metadata)}};return ie.Comment=c,ie}var ce={},Pt;function on(){if(Pt)return ce;Pt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.AccountWitnessVote=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.encodeString(e.witness),t.Encoder.encodeBoolean(e.approve)])}validate(e){return n.Validator.validateString(e.account)&&n.Validator.validateString(e.witness)}};return ce.AccountWitnessVote=c,ce}var se={},Nt;function cn(){if(Nt)return se;Nt=1,Object.defineProperty(se,"__esModule",{value:!0}),se.AccountWitnessProxy=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.encodeString(e.proxy)])}validate(e){return n.Validator.validateString(e.account)&&n.Validator.validateString(e.proxy)}};return se.AccountWitnessProxy=c,se}var ae={},Dt;function sn(){if(Dt)return ae;Dt=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.ChangeRecoveryAccount=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account_to_recover),t.Encoder.encodeString(e.new_recovery_account),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.account_to_recover)&&n.Validator.validateString(e.new_recovery_account)}};return ae.ChangeRecoveryAccount=c,ae}var de={},Ut;function an(){if(Ut)return de;Ut=1,Object.defineProperty(de,"__esModule",{value:!0}),de.TransferFromSavings=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.from),t.Encoder.encodeUInt32(e.request_id),t.Encoder.encodeString(e.to),t.Encoder.encodeAsset(e.amount),t.Encoder.encodeString(e.memo)])}validate(e){return n.Validator.validateString(e.from)&&n.Validator.validateString(e.to)&&n.Validator.validateString(e.memo)}};return de.TransferFromSavings=c,de}var ue={},Ht;function dn(){if(Ht)return ue;Ht=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.CancelTransferFromSavings=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.from),t.Encoder.encodeUInt32(e.request_id)])}validate(e){return n.Validator.validateString(e.from)}};return ue.CancelTransferFromSavings=c,ue}var le={},Lt;function un(){if(Lt)return le;Lt=1,Object.defineProperty(le,"__esModule",{value:!0}),le.TransferToVesting=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.from),t.Encoder.encodeString(e.to),t.Encoder.encodeAsset(e.amount)])}validate(e){return n.Validator.validateString(e.from)&&n.Validator.validateString(e.to)}};return le.TransferToVesting=c,le}var fe={},qt;function ln(){if(qt)return fe;qt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.WithdrawVesting=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.encodeAsset(e.vesting_shares)])}validate(e){return n.Validator.validateString(e.account)}};return fe.WithdrawVesting=c,fe}var he={},Mt;function fn(){if(Mt)return he;Mt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.SetWithdrawVestingRoute=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.from_account),t.Encoder.encodeString(e.to_account),t.Encoder.encodeUInt16(Number(e.percent)),t.Encoder.encodeBoolean(e.auto_vest)])}validate(e){return n.Validator.validateString(e.from_account)&&n.Validator.validateString(e.to_account)}};return he.SetWithdrawVestingRoute=c,he}var pe={},Ft;function hn(){if(Ft)return pe;Ft=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.ClaimAccount=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.creator),t.Encoder.encodeAsset(e.fee),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.creator)}};return pe.ClaimAccount=c,pe}var _e={},jt;function pn(){if(jt)return _e;jt=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.CreateClaimedAccount=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.creator),t.Encoder.encodeString(e.new_account_name),t.Encoder.encodeAuthorityType(e.owner),t.Encoder.encodeAuthorityType(e.active),t.Encoder.encodeAuthorityType(e.posting),t.Encoder.encodePublicKey(e.memo_key),t.Encoder.encodeString(e.json_metadata),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.creator)&&n.Validator.validateString(e.new_account_name)&&n.Validator.validateAuthorityType(e.owner)&&n.Validator.validateAuthorityType(e.active)&&n.Validator.validateAuthorityType(e.posting)&&n.Validator.validateString(e.json_metadata)}};return _e.CreateClaimedAccount=c,_e}var Ee={},kt;function _n(){if(kt)return Ee;kt=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.LimitOrderCreate=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.owner),t.Encoder.encodeUInt32(e.orderid),t.Encoder.encodeAsset(e.amount_to_sell),t.Encoder.encodeAsset(e.min_to_receive),t.Encoder.encodeBoolean(e.fill_or_kill),t.Encoder.encodeDateTime(e.expiration)])}validate(e){return n.Validator.validateString(e.owner)}};return Ee.LimitOrderCreate=c,Ee}var ge={},Wt;function En(){if(Wt)return ge;Wt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.LimitOrderCancel=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.owner),t.Encoder.encodeUInt32(e.orderid)])}validate(e){return n.Validator.validateString(e.owner)}};return ge.LimitOrderCancel=c,ge}var ve={},Gt;function gn(){if(Gt)return ve;Gt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.FeedPublish=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.publisher),t.Encoder.encodeAsset(e.exchange_rate.base),t.Encoder.encodeAsset(e.exchange_rate.quote)])}validate(e){return n.Validator.validateString(e.publisher)}};return ve.FeedPublish=c,ve}var Se={},$t;function vn(){if($t)return Se;$t=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.Convert=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.owner),t.Encoder.encodeUInt32(e.requestid),t.Encoder.encodeAsset(e.amount)])}validate(e){return n.Validator.validateString(e.owner)}};return Se.Convert=c,Se}var Ae={},zt;function Sn(){if(zt)return Ae;zt=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.AccountCreate=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeAsset(e.fee),t.Encoder.encodeString(e.creator),t.Encoder.encodeString(e.new_account_name),t.Encoder.encodeAuthorityType(e.owner),t.Encoder.encodeAuthorityType(e.active),t.Encoder.encodeAuthorityType(e.posting),t.Encoder.encodePublicKey(e.memo_key),t.Encoder.encodeString(e.json_metadata)])}validate(e){return n.Validator.validateString(e.creator)&&n.Validator.validateString(e.new_account_name)&&n.Validator.validateAuthorityType(e.owner)&&n.Validator.validateAuthorityType(e.active)&&n.Validator.validateAuthorityType(e.posting)&&n.Validator.validateString(e.json_metadata)}};return Ae.AccountCreate=c,Ae}var be={},Kt;function An(){if(Kt)return be;Kt=1,Object.defineProperty(be,"__esModule",{value:!0}),be.AccountUpdate=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.Optional(t.Encoder.encodeAuthorityType,e.owner),t.Encoder.Optional(t.Encoder.encodeAuthorityType,e.active),t.Encoder.Optional(t.Encoder.encodeAuthorityType,e.posting),t.Encoder.encodePublicKey(e.memo_key),t.Encoder.encodeString(e.json_metadata)])}validate(e){return n.Validator.validateString(e.account)&&n.Validator.validateString(e.json_metadata)&&n.Validator.validateAuthorityType(e.owner)&&n.Validator.validateAuthorityType(e.active)&&n.Validator.validateAuthorityType(e.posting)}};return be.AccountUpdate=c,be}var xe={},Jt;function bn(){if(Jt)return xe;Jt=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.WitnessUpdate=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.owner),t.Encoder.encodeString(e.url),t.Encoder.encodePublicKey(e.block_signing_key),t.Encoder.encodeAsset(e.props.account_creation_fee),t.Encoder.encodeUInt32(e.props.maximum_block_size),t.Encoder.encodeUInt16(e.props.hbd_interest_rate),t.Encoder.encodeAsset(e.fee)])}validate(e){return n.Validator.validateString(e.owner)&&n.Validator.validateString(e.url)}};return xe.WitnessUpdate=c,xe}var me={},Yt;function xn(){if(Yt)return me;Yt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.DeleteComment=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.author),t.Encoder.encodeString(e.permlink)])}validate(e){return n.Validator.validateString(e.author)&&n.Validator.validateString(e.permlink)}};return me.DeleteComment=c,me}var ye={},Xt;function mn(){if(Xt)return ye;Xt=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.RemoveProposal=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.proposal_owner),t.Encoder.Array(t.Encoder.encodeUInt64,e.proposal_ids),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.proposal_owner)&&n.Validator.validateArrayOfUInt64(e.proposal_ids)}};return ye.RemoveProposal=c,ye}var Oe={},Zt;function yn(){if(Zt)return Oe;Zt=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.DeclineVotingRights=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.encodeBoolean(e.decline)])}validate(e){return n.Validator.validateString(e.account)}};return Oe.DeclineVotingRights=c,Oe}var we={},Qt;function On(){if(Qt)return we;Qt=1,Object.defineProperty(we,"__esModule",{value:!0}),we.ResetAccount=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.reset_account),t.Encoder.encodeString(e.account_to_reset),t.Encoder.encodeAuthorityType(e.new_owner_authority)])}validate(e){return n.Validator.validateString(e.reset_account)&&n.Validator.validateString(e.account_to_reset)&&n.Validator.validateAuthorityType(e.new_owner_authority)}};return we.ResetAccount=c,we}var Te={},er;function wn(){if(er)return Te;er=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.SetResetAccount=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.encodeString(e.current_reset_account),t.Encoder.encodeString(e.reset_account)])}validate(e){return n.Validator.validateString(e.account)&&n.Validator.validateString(e.current_reset_account)&&n.Validator.validateString(e.reset_account)}};return Te.SetResetAccount=c,Te}var Ie={},tr;function Tn(){if(tr)return Ie;tr=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.RequestAccountRecovery=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.recovery_account),t.Encoder.encodeString(e.account_to_recover),t.Encoder.encodeAuthorityType(e.new_owner_authority),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.recovery_account)&&n.Validator.validateString(e.account_to_recover)&&n.Validator.validateAuthorityType(e.new_owner_authority)}};return Ie.RequestAccountRecovery=c,Ie}var Ce={},rr;function In(){if(rr)return Ce;rr=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.CustomJson=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.Array(t.Encoder.encodeString,e.required_auths),t.Encoder.Array(t.Encoder.encodeString,e.required_posting_auths),t.Encoder.encodeString(e.id),t.Encoder.encodeString(e.json)])}validate(e){return n.Validator.validateArrayOfStrings(e.required_auths)&&n.Validator.validateArrayOfStrings(e.required_posting_auths)&&n.Validator.validateString(e.id)&&n.Validator.validateString(e.json)}};return Ce.CustomJson=c,Ce}var Be={},nr;function Cn(){if(nr)return Be;nr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.RecoverAccount=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account_to_recover),t.Encoder.encodeAuthorityType(e.new_owner_authority),t.Encoder.encodeAuthorityType(e.recent_owner_authority),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.account_to_recover)&&n.Validator.validateAuthorityType(e.new_owner_authority)&&n.Validator.validateAuthorityType(e.recent_owner_authority)}};return Be.RecoverAccount=c,Be}var Ve={},or;function Bn(){if(or)return Ve;or=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.ClaimRewardBalance=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.account),t.Encoder.encodeAsset(e.reward_hive),t.Encoder.encodeAsset(e.reward_hbd),t.Encoder.encodeAsset(e.reward_vests)])}validate(e){return n.Validator.validateString(e.account)}};return Ve.ClaimRewardBalance=c,Ve}var Re={},ir;function Vn(){if(ir)return Re;ir=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.DelegateVestingShares=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.delegator),t.Encoder.encodeString(e.delegatee),t.Encoder.encodeAsset(e.vesting_shares)])}validate(e){return n.Validator.validateString(e.delegator)&&n.Validator.validateString(e.delegatee)}};return Re.DelegateVestingShares=c,Re}var Pe={},cr;function Rn(){if(cr)return Pe;cr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.CreateProposal=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.creator),t.Encoder.encodeString(e.receiver),t.Encoder.encodeDateTime(e.start_date),t.Encoder.encodeDateTime(e.end_date),t.Encoder.encodeAsset(e.daily_pay),t.Encoder.encodeString(e.subject),t.Encoder.encodeString(e.permlink),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.creator)&&n.Validator.validateString(e.receiver)&&n.Validator.validateString(e.subject)&&n.Validator.validateString(e.permlink)}};return Pe.CreateProposal=c,Pe}var Ne={},sr;function Pn(){if(sr)return Ne;sr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.UpdateProposalVotes=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.voter),t.Encoder.Array(t.Encoder.encodeUInt64,e.proposal_ids),t.Encoder.encodeBoolean(e.approve),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.voter)&&n.Validator.validateArrayOfUInt64(e.proposal_ids)}};return Ne.UpdateProposalVotes=c,Ne}var De={},ar;function Nn(){if(ar)return De;ar=1,Object.defineProperty(De,"__esModule",{value:!0}),De.CommentOptions=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{constructor(){super(...arguments),this.encodeExtensions=e=>{if(!e||e.length===0)return Buffer.from([e?e.length:[].length]);if(e[0][0]!==0)throw new Error("Unsupported extension type");return Buffer.concat([t.Encoder.encodeVarint32(e.length),t.Encoder.encodeVarint32(e[0][0]),t.Encoder.Array(this.encodeBeneficiary,e[0][1].beneficiaries)])},this.encodeBeneficiary=e=>Buffer.concat([t.Encoder.encodeString(e.account),t.Encoder.encodeUInt16(e.weight)])}encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.author),t.Encoder.encodeString(e.permlink),t.Encoder.encodeAsset(e.max_accepted_payout),t.Encoder.encodeUInt16(e.percent_hbd),t.Encoder.encodeBoolean(e.allow_votes),t.Encoder.encodeBoolean(e.allow_curation_rewards),this.encodeExtensions(e.extensions)])}validate(e){let a=n.Validator.validateString(e.author)&&n.Validator.validateString(e.permlink);return e.extensions&&e.extensions.length>0&&(a=a&&n.Validator.validateBeneficiaries(e.extensions[0][1].beneficiaries)),a}};return De.CommentOptions=c,De}var Ue={},dr;function Dn(){if(dr)return Ue;dr=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.RecurrentTransfer=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.from),t.Encoder.encodeString(e.to),t.Encoder.encodeAsset(e.amount),t.Encoder.encodeString(e.memo),t.Encoder.encodeUInt16(e.recurrence),t.Encoder.encodeUInt16(e.executions),t.Encoder.Array(t.Encoder.encodeEmpty,e.extensions)])}validate(e){return n.Validator.validateString(e.from)&&n.Validator.validateString(e.to)&&n.Validator.validateString(e.memo)}};return Ue.RecurrentTransfer=c,Ue}var He={},ur;function Un(){if(ur)return He;ur=1,Object.defineProperty(He,"__esModule",{value:!0}),He.CollateralizedConvert=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeString(e.owner),t.Encoder.encodeUInt32(e.requestid),t.Encoder.encodeAsset(e.amount)])}validate(e){return n.Validator.validateString(e.owner)}};return He.CollateralizedConvert=c,He}var Le={},lr;function Hn(){if(lr)return Le;lr=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.UpdateProposal=void 0;const r=N(),t=P(),n=D();let c=class extends r.OperationEncoder{constructor(){super(...arguments),this.encodeExtensions=e=>{if(!e||e.length===0)return Buffer.from([e?e.length:[].length]);if(e[0][0]!==1)throw new Error("Unsupported extension type");return Buffer.concat([t.Encoder.encodeUInt8(e.length),t.Encoder.encodeUInt8(e[0][0]),t.Encoder.encodeDateTime(e[0][1].end_date)])}}encode(e){return Buffer.concat([t.Encoder.encodeOperationType(this.operationId),t.Encoder.encodeUInt64(e.proposal_id),t.Encoder.encodeString(e.creator),t.Encoder.encodeAsset(e.daily_pay),t.Encoder.encodeString(e.subject),t.Encoder.encodeString(e.permlink),this.encodeExtensions(e.extensions)])}validate(e){return n.Validator.validateString(e.creator)&&n.Validator.validateString(e.subject)&&n.Validator.validateString(e.permlink)}};return Le.UpdateProposal=c,Le}var fr;function Vr(){if(fr)return ee;fr=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.ParsedOperation=void 0;const r=tn(),t=rn(),n=nn(),c=on(),d=cn(),e=sn(),a=an(),s=dn(),o=un(),i=ln(),l=fn(),u=hn(),E=pn(),b=_n(),p=En(),_=gn(),m=vn(),U=Sn(),R=An(),y=bn(),q=xn(),O=mn(),I=yn(),V=On(),C=wn(),g=Tn(),v=In(),A=Cn(),L=Bn(),w=Vn(),H=Rn(),j=Pn(),k=Nn(),W=Dn(),z=Un(),f=Hn();let S=class{};return ee.ParsedOperation=S,S.encodersMap=new Map([["vote",new r.Vote(0)],["comment",new n.Comment(1)],["transfer",new t.Transfer(2)],["transfer_to_vesting",new o.TransferToVesting(3)],["withdraw_vesting",new i.WithdrawVesting(4)],["limit_order_create",new b.LimitOrderCreate(5)],["limit_order_cancel",new p.LimitOrderCancel(6)],["feed_publish",new _.FeedPublish(7)],["convert",new m.Convert(8)],["account_create",new U.AccountCreate(9)],["account_update",new R.AccountUpdate(10)],["witness_update",new y.WitnessUpdate(11)],["account_witness_vote",new c.AccountWitnessVote(12)],["account_witness_proxy",new d.AccountWitnessProxy(13)],["delete_comment",new q.DeleteComment(17)],["custom_json",new v.CustomJson(18)],["comment_options",new k.CommentOptions(19)],["set_withdraw_vesting_route",new l.SetWithdrawVestingRoute(20)],["claim_account",new u.ClaimAccount(22)],["create_claimed_account",new E.CreateClaimedAccount(23)],["request_account_recovery",new g.RequestAccountRecovery(24)],["recover_account",new A.RecoverAccount(25)],["change_recovery_account",new e.ChangeRecoveryAccount(26)],["transfer_to_savings",new t.Transfer(32)],["transfer_from_savings",new a.TransferFromSavings(33)],["cancel_transfer_from_savings",new s.CancelTransferFromSavings(34)],["decline_voting_rights",new I.DeclineVotingRights(36)],["reset_account",new V.ResetAccount(37)],["set_reset_account",new C.SetResetAccount(38)],["claim_reward_balance",new L.ClaimRewardBalance(39)],["delegate_vesting_shares",new w.DelegateVestingShares(40)],["create_proposal",new H.CreateProposal(44)],["update_proposal_votes",new j.UpdateProposalVotes(45)],["remove_proposal",new O.RemoveProposal(46)],["update_proposal",new f.UpdateProposal(47)],["collateralized_convert",new z.CollateralizedConvert(48)],["recurrent_transfer",new W.RecurrentTransfer(49)]]),S.encode=x=>{var B;const M=(B=S.encodersMap.get(x[0]))===null||B===void 0?void 0:B.encode(x[1]);if(!M)throw new Error("Unsupported operation type");return M},S.validate=x=>{var B,M;return(M=(B=S.encodersMap.get(x[0]))===null||B===void 0?void 0:B.validate(x[1]))!==null&&M!==void 0?M:!1},ee}var F={},$={},rt={},qe={},hr;function Ln(){return hr||(hr=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.crypto=void 0,qe.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),qe}var pr;function Rr(){return pr||(pr=1,(function(r){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(r,"__esModule",{value:!0}),r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.Hash=r.nextTick=r.swap32IfBE=r.byteSwapIfBE=r.swap8IfBE=r.isLE=void 0,r.isBytes=n,r.anumber=c,r.abytes=d,r.ahash=e,r.aexists=a,r.aoutput=s,r.u8=o,r.u32=i,r.clean=l,r.createView=u,r.rotr=E,r.rotl=b,r.byteSwap=p,r.byteSwap32=_,r.bytesToHex=R,r.hexToBytes=O,r.asyncLoop=V,r.utf8ToBytes=C,r.bytesToUtf8=g,r.toBytes=v,r.kdfInputToBytes=A,r.concatBytes=L,r.checkOpts=w,r.createHasher=j,r.createOptHasher=k,r.createXOFer=W,r.randomBytes=z;const t=Ln();function n(f){return f instanceof Uint8Array||ArrayBuffer.isView(f)&&f.constructor.name==="Uint8Array"}function c(f){if(!Number.isSafeInteger(f)||f<0)throw new Error("positive integer expected, got "+f)}function d(f,...S){if(!n(f))throw new Error("Uint8Array expected");if(S.length>0&&!S.includes(f.length))throw new Error("Uint8Array expected of length "+S+", got length="+f.length)}function e(f){if(typeof f!="function"||typeof f.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");c(f.outputLen),c(f.blockLen)}function a(f,S=!0){if(f.destroyed)throw new Error("Hash instance has been destroyed");if(S&&f.finished)throw new Error("Hash#digest() has already been called")}function s(f,S){d(f);const x=S.outputLen;if(f.length<x)throw new Error("digestInto() expects output buffer of length at least "+x)}function o(f){return new Uint8Array(f.buffer,f.byteOffset,f.byteLength)}function i(f){return new Uint32Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/4))}function l(...f){for(let S=0;S<f.length;S++)f[S].fill(0)}function u(f){return new DataView(f.buffer,f.byteOffset,f.byteLength)}function E(f,S){return f<<32-S|f>>>S}function b(f,S){return f<<S|f>>>32-S>>>0}r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p(f){return f<<24&4278190080|f<<8&16711680|f>>>8&65280|f>>>24&255}r.swap8IfBE=r.isLE?f=>f:f=>p(f),r.byteSwapIfBE=r.swap8IfBE;function _(f){for(let S=0;S<f.length;S++)f[S]=p(f[S]);return f}r.swap32IfBE=r.isLE?f=>f:_;const m=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",U=Array.from({length:256},(f,S)=>S.toString(16).padStart(2,"0"));function R(f){if(d(f),m)return f.toHex();let S="";for(let x=0;x<f.length;x++)S+=U[f[x]];return S}const y={_0:48,_9:57,A:65,F:70,a:97,f:102};function q(f){if(f>=y._0&&f<=y._9)return f-y._0;if(f>=y.A&&f<=y.F)return f-(y.A-10);if(f>=y.a&&f<=y.f)return f-(y.a-10)}function O(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);if(m)return Uint8Array.fromHex(f);const S=f.length,x=S/2;if(S%2)throw new Error("hex string expected, got unpadded hex of length "+S);const B=new Uint8Array(x);for(let M=0,G=0;M<x;M++,G+=2){const X=q(f.charCodeAt(G)),K=q(f.charCodeAt(G+1));if(X===void 0||K===void 0){const J=f[G]+f[G+1];throw new Error('hex string expected, got non-hex character "'+J+'" at index '+G)}B[M]=X*16+K}return B}const I=async()=>{};r.nextTick=I;async function V(f,S,x){let B=Date.now();for(let M=0;M<f;M++){x(M);const G=Date.now()-B;G>=0&&G<S||(await(0,r.nextTick)(),B+=G)}}function C(f){if(typeof f!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(f))}function g(f){return new TextDecoder().decode(f)}function v(f){return typeof f=="string"&&(f=C(f)),d(f),f}function A(f){return typeof f=="string"&&(f=C(f)),d(f),f}function L(...f){let S=0;for(let B=0;B<f.length;B++){const M=f[B];d(M),S+=M.length}const x=new Uint8Array(S);for(let B=0,M=0;B<f.length;B++){const G=f[B];x.set(G,M),M+=G.length}return x}function w(f,S){if(S!==void 0&&{}.toString.call(S)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(f,S)}class H{}r.Hash=H;function j(f){const S=B=>f().update(v(B)).digest(),x=f();return S.outputLen=x.outputLen,S.blockLen=x.blockLen,S.create=()=>f(),S}function k(f){const S=(B,M)=>f(M).update(v(B)).digest(),x=f({});return S.outputLen=x.outputLen,S.blockLen=x.blockLen,S.create=B=>f(B),S}function W(f){const S=(B,M)=>f(M).update(v(B)).digest(),x=f({});return S.outputLen=x.outputLen,S.blockLen=x.blockLen,S.create=B=>f(B),S}r.wrapConstructor=j,r.wrapConstructorWithOpts=k,r.wrapXOFConstructorWithOpts=W;function z(f=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(f));if(t.crypto&&typeof t.crypto.randomBytes=="function")return Uint8Array.from(t.crypto.randomBytes(f));throw new Error("crypto.getRandomValues must be defined")}})(rt)),rt}var _r;function qn(){if(_r)return $;_r=1,Object.defineProperty($,"__esModule",{value:!0}),$.SHA512_IV=$.SHA384_IV=$.SHA224_IV=$.SHA256_IV=$.HashMD=void 0,$.setBigUint64=t,$.Chi=n,$.Maj=c;const r=Rr();function t(e,a,s,o){if(typeof e.setBigUint64=="function")return e.setBigUint64(a,s,o);const i=BigInt(32),l=BigInt(4294967295),u=Number(s>>i&l),E=Number(s&l),b=o?4:0,p=o?0:4;e.setUint32(a+b,u,o),e.setUint32(a+p,E,o)}function n(e,a,s){return e&a^~e&s}function c(e,a,s){return e&a^e&s^a&s}class d extends r.Hash{constructor(a,s,o,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=a,this.outputLen=s,this.padOffset=o,this.isLE=i,this.buffer=new Uint8Array(a),this.view=(0,r.createView)(this.buffer)}update(a){(0,r.aexists)(this),a=(0,r.toBytes)(a),(0,r.abytes)(a);const{view:s,buffer:o,blockLen:i}=this,l=a.length;for(let u=0;u<l;){const E=Math.min(i-this.pos,l-u);if(E===i){const b=(0,r.createView)(a);for(;i<=l-u;u+=i)this.process(b,u);continue}o.set(a.subarray(u,u+E),this.pos),this.pos+=E,u+=E,this.pos===i&&(this.process(s,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,r.aexists)(this),(0,r.aoutput)(a,this),this.finished=!0;const{buffer:s,view:o,blockLen:i,isLE:l}=this;let{pos:u}=this;s[u++]=128,(0,r.clean)(this.buffer.subarray(u)),this.padOffset>i-u&&(this.process(o,0),u=0);for(let m=u;m<i;m++)s[m]=0;t(o,i-8,BigInt(this.length*8),l),this.process(o,0);const E=(0,r.createView)(a),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=b/4,_=this.get();if(p>_.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)E.setUint32(4*m,_[m],l)}digest(){const{buffer:a,outputLen:s}=this;this.digestInto(a);const o=a.slice(0,s);return this.destroy(),o}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:s,buffer:o,length:i,finished:l,destroyed:u,pos:E}=this;return a.destroyed=u,a.finished=l,a.length=i,a.pos=E,i%s&&a.buffer.set(o),a}clone(){return this._cloneInto()}}return $.HashMD=d,$.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),$.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),$.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),$}var T={},Er;function Mn(){if(Er)return T;Er=1,Object.defineProperty(T,"__esModule",{value:!0}),T.toBig=T.shrSL=T.shrSH=T.rotrSL=T.rotrSH=T.rotrBL=T.rotrBH=T.rotr32L=T.rotr32H=T.rotlSL=T.rotlSH=T.rotlBL=T.rotlBH=T.add5L=T.add5H=T.add4L=T.add4H=T.add3L=T.add3H=void 0,T.add=U,T.fromBig=n,T.split=c;const r=BigInt(2**32-1),t=BigInt(32);function n(g,v=!1){return v?{h:Number(g&r),l:Number(g>>t&r)}:{h:Number(g>>t&r)|0,l:Number(g&r)|0}}function c(g,v=!1){const A=g.length;let L=new Uint32Array(A),w=new Uint32Array(A);for(let H=0;H<A;H++){const{h:j,l:k}=n(g[H],v);[L[H],w[H]]=[j,k]}return[L,w]}const d=(g,v)=>BigInt(g>>>0)<<t|BigInt(v>>>0);T.toBig=d;const e=(g,v,A)=>g>>>A;T.shrSH=e;const a=(g,v,A)=>g<<32-A|v>>>A;T.shrSL=a;const s=(g,v,A)=>g>>>A|v<<32-A;T.rotrSH=s;const o=(g,v,A)=>g<<32-A|v>>>A;T.rotrSL=o;const i=(g,v,A)=>g<<64-A|v>>>A-32;T.rotrBH=i;const l=(g,v,A)=>g>>>A-32|v<<64-A;T.rotrBL=l;const u=(g,v)=>v;T.rotr32H=u;const E=(g,v)=>g;T.rotr32L=E;const b=(g,v,A)=>g<<A|v>>>32-A;T.rotlSH=b;const p=(g,v,A)=>v<<A|g>>>32-A;T.rotlSL=p;const _=(g,v,A)=>v<<A-32|g>>>64-A;T.rotlBH=_;const m=(g,v,A)=>g<<A-32|v>>>64-A;T.rotlBL=m;function U(g,v,A,L){const w=(v>>>0)+(L>>>0);return{h:g+A+(w/2**32|0)|0,l:w|0}}const R=(g,v,A)=>(g>>>0)+(v>>>0)+(A>>>0);T.add3L=R;const y=(g,v,A,L)=>v+A+L+(g/2**32|0)|0;T.add3H=y;const q=(g,v,A,L)=>(g>>>0)+(v>>>0)+(A>>>0)+(L>>>0);T.add4L=q;const O=(g,v,A,L,w)=>v+A+L+w+(g/2**32|0)|0;T.add4H=O;const I=(g,v,A,L,w)=>(g>>>0)+(v>>>0)+(A>>>0)+(L>>>0)+(w>>>0);T.add5L=I;const V=(g,v,A,L,w,H)=>v+A+L+w+H+(g/2**32|0)|0;T.add5H=V;const C={fromBig:n,split:c,toBig:d,shrSH:e,shrSL:a,rotrSH:s,rotrSL:o,rotrBH:i,rotrBL:l,rotr32H:u,rotr32L:E,rotlSH:b,rotlSL:p,rotlBH:_,rotlBL:m,add:U,add3L:R,add3H:y,add4L:q,add4H:O,add5H:V,add5L:I};return T.default=C,T}var gr;function Fn(){if(gr)return F;gr=1,Object.defineProperty(F,"__esModule",{value:!0}),F.sha512_224=F.sha512_256=F.sha384=F.sha512=F.sha224=F.sha256=F.SHA512_256=F.SHA512_224=F.SHA384=F.SHA512=F.SHA224=F.SHA256=void 0;const r=qn(),t=Mn(),n=Rr(),c=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),d=new Uint32Array(64);class e extends r.HashMD{constructor(y=32){super(64,y,8,!1),this.A=r.SHA256_IV[0]|0,this.B=r.SHA256_IV[1]|0,this.C=r.SHA256_IV[2]|0,this.D=r.SHA256_IV[3]|0,this.E=r.SHA256_IV[4]|0,this.F=r.SHA256_IV[5]|0,this.G=r.SHA256_IV[6]|0,this.H=r.SHA256_IV[7]|0}get(){const{A:y,B:q,C:O,D:I,E:V,F:C,G:g,H:v}=this;return[y,q,O,I,V,C,g,v]}set(y,q,O,I,V,C,g,v){this.A=y|0,this.B=q|0,this.C=O|0,this.D=I|0,this.E=V|0,this.F=C|0,this.G=g|0,this.H=v|0}process(y,q){for(let w=0;w<16;w++,q+=4)d[w]=y.getUint32(q,!1);for(let w=16;w<64;w++){const H=d[w-15],j=d[w-2],k=(0,n.rotr)(H,7)^(0,n.rotr)(H,18)^H>>>3,W=(0,n.rotr)(j,17)^(0,n.rotr)(j,19)^j>>>10;d[w]=W+d[w-7]+k+d[w-16]|0}let{A:O,B:I,C:V,D:C,E:g,F:v,G:A,H:L}=this;for(let w=0;w<64;w++){const H=(0,n.rotr)(g,6)^(0,n.rotr)(g,11)^(0,n.rotr)(g,25),j=L+H+(0,r.Chi)(g,v,A)+c[w]+d[w]|0,W=((0,n.rotr)(O,2)^(0,n.rotr)(O,13)^(0,n.rotr)(O,22))+(0,r.Maj)(O,I,V)|0;L=A,A=v,v=g,g=C+j|0,C=V,V=I,I=O,O=j+W|0}O=O+this.A|0,I=I+this.B|0,V=V+this.C|0,C=C+this.D|0,g=g+this.E|0,v=v+this.F|0,A=A+this.G|0,L=L+this.H|0,this.set(O,I,V,C,g,v,A,L)}roundClean(){(0,n.clean)(d)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.clean)(this.buffer)}}F.SHA256=e;class a extends e{constructor(){super(28),this.A=r.SHA224_IV[0]|0,this.B=r.SHA224_IV[1]|0,this.C=r.SHA224_IV[2]|0,this.D=r.SHA224_IV[3]|0,this.E=r.SHA224_IV[4]|0,this.F=r.SHA224_IV[5]|0,this.G=r.SHA224_IV[6]|0,this.H=r.SHA224_IV[7]|0}}F.SHA224=a;const s=t.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(R=>BigInt(R))),o=s[0],i=s[1],l=new Uint32Array(80),u=new Uint32Array(80);class E extends r.HashMD{constructor(y=64){super(128,y,16,!1),this.Ah=r.SHA512_IV[0]|0,this.Al=r.SHA512_IV[1]|0,this.Bh=r.SHA512_IV[2]|0,this.Bl=r.SHA512_IV[3]|0,this.Ch=r.SHA512_IV[4]|0,this.Cl=r.SHA512_IV[5]|0,this.Dh=r.SHA512_IV[6]|0,this.Dl=r.SHA512_IV[7]|0,this.Eh=r.SHA512_IV[8]|0,this.El=r.SHA512_IV[9]|0,this.Fh=r.SHA512_IV[10]|0,this.Fl=r.SHA512_IV[11]|0,this.Gh=r.SHA512_IV[12]|0,this.Gl=r.SHA512_IV[13]|0,this.Hh=r.SHA512_IV[14]|0,this.Hl=r.SHA512_IV[15]|0}get(){const{Ah:y,Al:q,Bh:O,Bl:I,Ch:V,Cl:C,Dh:g,Dl:v,Eh:A,El:L,Fh:w,Fl:H,Gh:j,Gl:k,Hh:W,Hl:z}=this;return[y,q,O,I,V,C,g,v,A,L,w,H,j,k,W,z]}set(y,q,O,I,V,C,g,v,A,L,w,H,j,k,W,z){this.Ah=y|0,this.Al=q|0,this.Bh=O|0,this.Bl=I|0,this.Ch=V|0,this.Cl=C|0,this.Dh=g|0,this.Dl=v|0,this.Eh=A|0,this.El=L|0,this.Fh=w|0,this.Fl=H|0,this.Gh=j|0,this.Gl=k|0,this.Hh=W|0,this.Hl=z|0}process(y,q){for(let x=0;x<16;x++,q+=4)l[x]=y.getUint32(q),u[x]=y.getUint32(q+=4);for(let x=16;x<80;x++){const B=l[x-15]|0,M=u[x-15]|0,G=t.rotrSH(B,M,1)^t.rotrSH(B,M,8)^t.shrSH(B,M,7),X=t.rotrSL(B,M,1)^t.rotrSL(B,M,8)^t.shrSL(B,M,7),K=l[x-2]|0,J=u[x-2]|0,je=t.rotrSH(K,J,19)^t.rotrBH(K,J,61)^t.shrSH(K,J,6),$e=t.rotrSL(K,J,19)^t.rotrBL(K,J,61)^t.shrSL(K,J,6),ke=t.add4L(X,$e,u[x-7],u[x-16]),ze=t.add4H(ke,G,je,l[x-7],l[x-16]);l[x]=ze|0,u[x]=ke|0}let{Ah:O,Al:I,Bh:V,Bl:C,Ch:g,Cl:v,Dh:A,Dl:L,Eh:w,El:H,Fh:j,Fl:k,Gh:W,Gl:z,Hh:f,Hl:S}=this;for(let x=0;x<80;x++){const B=t.rotrSH(w,H,14)^t.rotrSH(w,H,18)^t.rotrBH(w,H,41),M=t.rotrSL(w,H,14)^t.rotrSL(w,H,18)^t.rotrBL(w,H,41),G=w&j^~w&W,X=H&k^~H&z,K=t.add5L(S,M,X,i[x],u[x]),J=t.add5H(K,f,B,G,o[x],l[x]),je=K|0,$e=t.rotrSH(O,I,28)^t.rotrBH(O,I,34)^t.rotrBH(O,I,39),ke=t.rotrSL(O,I,28)^t.rotrBL(O,I,34)^t.rotrBL(O,I,39),ze=O&V^O&g^V&g,Wr=I&C^I&v^C&v;f=W|0,S=z|0,W=j|0,z=k|0,j=w|0,k=H|0,{h:w,l:H}=t.add(A|0,L|0,J|0,je|0),A=g|0,L=v|0,g=V|0,v=C|0,V=O|0,C=I|0;const vt=t.add3L(je,ke,Wr);O=t.add3H(vt,J,$e,ze),I=vt|0}({h:O,l:I}=t.add(this.Ah|0,this.Al|0,O|0,I|0)),{h:V,l:C}=t.add(this.Bh|0,this.Bl|0,V|0,C|0),{h:g,l:v}=t.add(this.Ch|0,this.Cl|0,g|0,v|0),{h:A,l:L}=t.add(this.Dh|0,this.Dl|0,A|0,L|0),{h:w,l:H}=t.add(this.Eh|0,this.El|0,w|0,H|0),{h:j,l:k}=t.add(this.Fh|0,this.Fl|0,j|0,k|0),{h:W,l:z}=t.add(this.Gh|0,this.Gl|0,W|0,z|0),{h:f,l:S}=t.add(this.Hh|0,this.Hl|0,f|0,S|0),this.set(O,I,V,C,g,v,A,L,w,H,j,k,W,z,f,S)}roundClean(){(0,n.clean)(l,u)}destroy(){(0,n.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}F.SHA512=E;class b extends E{constructor(){super(48),this.Ah=r.SHA384_IV[0]|0,this.Al=r.SHA384_IV[1]|0,this.Bh=r.SHA384_IV[2]|0,this.Bl=r.SHA384_IV[3]|0,this.Ch=r.SHA384_IV[4]|0,this.Cl=r.SHA384_IV[5]|0,this.Dh=r.SHA384_IV[6]|0,this.Dl=r.SHA384_IV[7]|0,this.Eh=r.SHA384_IV[8]|0,this.El=r.SHA384_IV[9]|0,this.Fh=r.SHA384_IV[10]|0,this.Fl=r.SHA384_IV[11]|0,this.Gh=r.SHA384_IV[12]|0,this.Gl=r.SHA384_IV[13]|0,this.Hh=r.SHA384_IV[14]|0,this.Hl=r.SHA384_IV[15]|0}}F.SHA384=b;const p=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),_=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class m extends E{constructor(){super(28),this.Ah=p[0]|0,this.Al=p[1]|0,this.Bh=p[2]|0,this.Bl=p[3]|0,this.Ch=p[4]|0,this.Cl=p[5]|0,this.Dh=p[6]|0,this.Dl=p[7]|0,this.Eh=p[8]|0,this.El=p[9]|0,this.Fh=p[10]|0,this.Fl=p[11]|0,this.Gh=p[12]|0,this.Gl=p[13]|0,this.Hh=p[14]|0,this.Hl=p[15]|0}}F.SHA512_224=m;class U extends E{constructor(){super(32),this.Ah=_[0]|0,this.Al=_[1]|0,this.Bh=_[2]|0,this.Bl=_[3]|0,this.Ch=_[4]|0,this.Cl=_[5]|0,this.Dh=_[6]|0,this.Dl=_[7]|0,this.Eh=_[8]|0,this.El=_[9]|0,this.Fh=_[10]|0,this.Fl=_[11]|0,this.Gh=_[12]|0,this.Gl=_[13]|0,this.Hh=_[14]|0,this.Hl=_[15]|0}}return F.SHA512_256=U,F.sha256=(0,n.createHasher)(()=>new e),F.sha224=(0,n.createHasher)(()=>new a),F.sha512=(0,n.createHasher)(()=>new E),F.sha384=(0,n.createHasher)(()=>new b),F.sha512_256=(0,n.createHasher)(()=>new U),F.sha512_224=(0,n.createHasher)(()=>new m),F}var nt={},ot={},it={},We={exports:{}},vr;function pt(){return vr||(vr=1,typeof Object.create=="function"?We.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:We.exports=function(t,n){if(n){t.super_=n;var c=function(){};c.prototype=n.prototype,t.prototype=new c,t.prototype.constructor=t}}),We.exports}var ct={},Sr;function Pr(){if(Sr)return ct;Sr=1;const r=pt();function t(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}ct.Reporter=t,t.prototype.isError=function(d){return d instanceof n},t.prototype.save=function(){const d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},t.prototype.restore=function(d){const e=this._reporterState;e.obj=d.obj,e.path=e.path.slice(0,d.pathLen)},t.prototype.enterKey=function(d){return this._reporterState.path.push(d)},t.prototype.exitKey=function(d){const e=this._reporterState;e.path=e.path.slice(0,d-1)},t.prototype.leaveKey=function(d,e,a){const s=this._reporterState;this.exitKey(d),s.obj!==null&&(s.obj[e]=a)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){const d=this._reporterState,e=d.obj;return d.obj={},e},t.prototype.leaveObject=function(d){const e=this._reporterState,a=e.obj;return e.obj=d,a},t.prototype.error=function(d){let e;const a=this._reporterState,s=d instanceof n;if(s?e=d:e=new n(a.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),d.message||d,d.stack),!a.options.partial)throw e;return s||a.errors.push(e),e},t.prototype.wrapResult=function(d){const e=this._reporterState;return e.options.partial?{result:this.isError(d)?null:d,errors:e.errors}:d};function n(c,d){this.path=c,this.rethrow(d)}return r(n,Error),n.prototype.rethrow=function(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this},ct}var st={},Ar;function Nr(){if(Ar)return st;Ar=1;function r(t,n){if(Array.isArray(t))this.length=0,this.value=t.map(function(c){return r.isEncoderBuffer(c)||(c=new r(c,n)),this.length+=c.length,c},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return n.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Buffer.byteLength(t);else if(Buffer.isBuffer(t))this.value=t,this.length=t.length;else return n.error("Unsupported type: "+typeof t)}return st.EncoderBuffer=r,r.isEncoderBuffer=function(n){return n instanceof r?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},r.prototype.join=function(n,c){return n||(n=Buffer.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(n,c),c+=d.length}):(typeof this.value=="number"?n[c]=this.value:typeof this.value=="string"?n.write(this.value,c):Buffer.isBuffer(this.value)&&this.value.copy(n,c),c+=this.length)),n},st}var at,br;function Dr(){if(br)return at;br=1;const r=Pr().Reporter,t=Nr().EncoderBuffer,n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n),d=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function e(s,o,i){const l={};this._baseState=l,l.name=i,l.enc=s,l.parent=o||null,l.children=null,l.tag=null,l.args=null,l.reverseArgs=null,l.choice=null,l.optional=!1,l.any=!1,l.obj=!1,l.use=null,l.useDecoder=null,l.key=null,l.default=null,l.explicit=null,l.implicit=null,l.contains=null,l.parent||(l.children=[],this._wrap())}at=e;const a=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return e.prototype.clone=function(){const o=this._baseState,i={};a.forEach(function(u){i[u]=o[u]});const l=new this.constructor(i.parent);return l._baseState=i,l},e.prototype._wrap=function(){const o=this._baseState;c.forEach(function(i){this[i]=function(){const u=new this.constructor(this);return o.children.push(u),u[i].apply(u,arguments)}},this)},e.prototype._init=function(o){const i=this._baseState;o.call(this),i.children=i.children.filter(function(l){return l._baseState.parent===this},this)},e.prototype._useArgs=function(o){const i=this._baseState,l=o.filter(function(u){return u instanceof this.constructor},this);o=o.filter(function(u){return!(u instanceof this.constructor)},this),l.length!==0&&(i.children=l,l.forEach(function(u){u._baseState.parent=this},this)),o.length!==0&&(i.args=o,i.reverseArgs=o.map(function(u){if(typeof u!="object"||u.constructor!==Object)return u;const E={};return Object.keys(u).forEach(function(b){b==(b|0)&&(b|=0);const p=u[b];E[p]=b}),E}))},d.forEach(function(s){e.prototype[s]=function(){const i=this._baseState;throw new Error(s+" not implemented for encoding: "+i.enc)}}),n.forEach(function(s){e.prototype[s]=function(){const i=this._baseState,l=Array.prototype.slice.call(arguments);return i.tag=s,this._useArgs(l),this}}),e.prototype.use=function(o){const i=this._baseState;return i.use=o,this},e.prototype.optional=function(){const o=this._baseState;return o.optional=!0,this},e.prototype.def=function(o){const i=this._baseState;return i.default=o,i.optional=!0,this},e.prototype.explicit=function(o){const i=this._baseState;return i.explicit=o,this},e.prototype.implicit=function(o){const i=this._baseState;return i.implicit=o,this},e.prototype.obj=function(){const o=this._baseState,i=Array.prototype.slice.call(arguments);return o.obj=!0,i.length!==0&&this._useArgs(i),this},e.prototype.key=function(o){const i=this._baseState;return i.key=o,this},e.prototype.any=function(){const o=this._baseState;return o.any=!0,this},e.prototype.choice=function(o){const i=this._baseState;return i.choice=o,this._useArgs(Object.keys(o).map(function(l){return o[l]})),this},e.prototype.contains=function(o){const i=this._baseState;return i.contains=o,this},e.prototype._createEncoderBuffer=function(o){return new t(o,this.reporter)},e.prototype._encode=function(o,i,l){const u=this._baseState;if(u.default!==null&&u.default===o)return;const E=this._encodeValue(o,i,l);if(E!==void 0&&!this._skipDefault(E,i,l))return E},e.prototype._encodeValue=function(o,i,l){const u=this._baseState;if(u.parent===null)return u.children[0]._encode(o,i||new r);let E=null;if(this.reporter=i,u.optional&&o===void 0)if(u.default!==null)o=u.default;else return;let b=null,p=!1;if(u.any)E=this._createEncoderBuffer(o);else if(u.choice)E=this._encodeChoice(o,i);else if(u.contains)b=this._getUse(u.contains,l)._encode(o,i),p=!0;else if(u.children)b=u.children.map(function(_){if(_._baseState.tag==="null_")return _._encode(null,i,o);if(_._baseState.key===null)return i.error("Child should have a key");const m=i.enterKey(_._baseState.key);if(typeof o!="object")return i.error("Child expected, but input is not object");const U=_._encode(o[_._baseState.key],i,o);return i.leaveKey(m),U},this).filter(function(_){return _}),b=this._createEncoderBuffer(b);else if(u.tag==="seqof"||u.tag==="setof"){if(!(u.args&&u.args.length===1))return i.error("Too many args for : "+u.tag);if(!Array.isArray(o))return i.error("seqof/setof, but data is not Array");const _=this.clone();_._baseState.implicit=null,b=this._createEncoderBuffer(o.map(function(m){const U=this._baseState;return this._getUse(U.args[0],o)._encode(m,i)},_))}else u.use!==null?E=this._getUse(u.use,l)._encode(o,i):(b=this._encodePrimitive(u.tag,o),p=!0);if(!u.any&&u.choice===null){const _=u.implicit!==null?u.implicit:u.tag,m=u.implicit===null?"universal":"context";_===null?u.use===null&&i.error("Tag could be omitted only for .use()"):u.use===null&&(E=this._encodeComposite(_,p,m,b))}return u.explicit!==null&&(E=this._encodeComposite(u.explicit,!1,"context",E)),E},e.prototype._encodeChoice=function(o,i){const l=this._baseState,u=l.choice[o.type];if(!u)throw new Error(o.type+" not found in "+JSON.stringify(Object.keys(l.choice)));return u._encode(o.value,i)},e.prototype._encodePrimitive=function(o,i){const l=this._baseState;if(/str$/.test(o))return this._encodeStr(i,o);if(o==="objid"&&l.args)return this._encodeObjid(i,l.reverseArgs[0],l.args[1]);if(o==="objid")return this._encodeObjid(i,null,null);if(o==="gentime"||o==="utctime")return this._encodeTime(i,o);if(o==="null_")return this._encodeNull();if(o==="int"||o==="enum")return this._encodeInt(i,l.args&&l.reverseArgs[0]);if(o==="bool")return this._encodeBool(i);if(o==="objDesc")return this._encodeStr(i,o);throw new Error("Unsupported tag: "+o)},e.prototype._isNumstr=function(o){return/^[0-9 ]*$/.test(o)},e.prototype._isPrintstr=function(o){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(o)},at}var dt={},xr;function Ur(){return xr||(xr=1,(function(r){function t(n){const c={};return Object.keys(n).forEach(function(d){(d|0)==d&&(d=d|0);const e=n[d];c[e]=d}),c}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=t(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=t(r.tag)})(dt)),dt}var ut,mr;function jn(){if(mr)return ut;mr=1;const r=pt(),t=Dr(),n=Ur();function c(s){this.enc="der",this.name=s.name,this.entity=s,this.tree=new d,this.tree._init(s.body)}ut=c,c.prototype.encode=function(o,i){return this.tree._encode(o,i).join()};function d(s){t.call(this,"der",s)}r(d,t),d.prototype._encodeComposite=function(o,i,l,u){const E=a(o,i,l,this.reporter);if(u.length<128){const _=Buffer.alloc(2);return _[0]=E,_[1]=u.length,this._createEncoderBuffer([_,u])}let b=1;for(let _=u.length;_>=256;_>>=8)b++;const p=Buffer.alloc(2+b);p[0]=E,p[1]=128|b;for(let _=1+b,m=u.length;m>0;_--,m>>=8)p[_]=m&255;return this._createEncoderBuffer([p,u])},d.prototype._encodeStr=function(o,i){if(i==="bitstr")return this._createEncoderBuffer([o.unused|0,o.data]);if(i==="bmpstr"){const l=Buffer.alloc(o.length*2);for(let u=0;u<o.length;u++)l.writeUInt16BE(o.charCodeAt(u),u*2);return this._createEncoderBuffer(l)}else return i==="numstr"?this._isNumstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: numstr supports only digits and space"):i==="printstr"?this._isPrintstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(i)?this._createEncoderBuffer(o):i==="objDesc"?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: "+i+" unsupported")},d.prototype._encodeObjid=function(o,i,l){if(typeof o=="string"){if(!i)return this.reporter.error("string objid given, but no values map found");if(!i.hasOwnProperty(o))return this.reporter.error("objid not found in values map");o=i[o].split(/[\s.]+/g);for(let p=0;p<o.length;p++)o[p]|=0}else if(Array.isArray(o)){o=o.slice();for(let p=0;p<o.length;p++)o[p]|=0}if(!Array.isArray(o))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(o));if(!l){if(o[1]>=40)return this.reporter.error("Second objid identifier OOB");o.splice(0,2,o[0]*40+o[1])}let u=0;for(let p=0;p<o.length;p++){let _=o[p];for(u++;_>=128;_>>=7)u++}const E=Buffer.alloc(u);let b=E.length-1;for(let p=o.length-1;p>=0;p--){let _=o[p];for(E[b--]=_&127;(_>>=7)>0;)E[b--]=128|_&127}return this._createEncoderBuffer(E)};function e(s){return s<10?"0"+s:s}d.prototype._encodeTime=function(o,i){let l;const u=new Date(o);return i==="gentime"?l=[e(u.getUTCFullYear()),e(u.getUTCMonth()+1),e(u.getUTCDate()),e(u.getUTCHours()),e(u.getUTCMinutes()),e(u.getUTCSeconds()),"Z"].join(""):i==="utctime"?l=[e(u.getUTCFullYear()%100),e(u.getUTCMonth()+1),e(u.getUTCDate()),e(u.getUTCHours()),e(u.getUTCMinutes()),e(u.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+i+" time is not supported yet"),this._encodeStr(l,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(o,i){if(typeof o=="string"){if(!i)return this.reporter.error("String int or enum given, but no values map");if(!i.hasOwnProperty(o))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(o));o=i[o]}if(typeof o!="number"&&!Buffer.isBuffer(o)){const E=o.toArray();!o.sign&&E[0]&128&&E.unshift(0),o=Buffer.from(E)}if(Buffer.isBuffer(o)){let E=o.length;o.length===0&&E++;const b=Buffer.alloc(E);return o.copy(b),o.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(o<128)return this._createEncoderBuffer(o);if(o<256)return this._createEncoderBuffer([0,o]);let l=1;for(let E=o;E>=256;E>>=8)l++;const u=new Array(l);for(let E=u.length-1;E>=0;E--)u[E]=o&255,o>>=8;return u[0]&128&&u.unshift(0),this._createEncoderBuffer(Buffer.from(u))},d.prototype._encodeBool=function(o){return this._createEncoderBuffer(o?255:0)},d.prototype._use=function(o,i){return typeof o=="function"&&(o=o(i)),o._getEncoder("der").tree},d.prototype._skipDefault=function(o,i,l){const u=this._baseState;let E;if(u.default===null)return!1;const b=o.join();if(u.defaultBuffer===void 0&&(u.defaultBuffer=this._encodeValue(u.default,i,l).join()),b.length!==u.defaultBuffer.length)return!1;for(E=0;E<b.length;E++)if(b[E]!==u.defaultBuffer[E])return!1;return!0};function a(s,o,i,l){let u;if(s==="seqof"?s="seq":s==="setof"&&(s="set"),n.tagByName.hasOwnProperty(s))u=n.tagByName[s];else if(typeof s=="number"&&(s|0)===s)u=s;else return l.error("Unknown tag: "+s);return u>=31?l.error("Multi-octet tag encoding unsupported"):(o||(u|=32),u|=n.tagClassByName[i||"universal"]<<6,u)}return ut}var yr;function Hr(){return yr||(yr=1,(function(r){const t=r;t.der=jn()})(it)),it}var Or;function kn(){return Or||(Or=1,(function(r){const t=Hr(),n=pt(),c=r;c.define=function(a,s){return new d(a,s)};function d(e,a){this.name=e,this.body=a,this.encoders={}}d.prototype._createNamed=function(a){const s=this.name;function o(i){this._initNamed(i,s)}return n(o,a),o.prototype._initNamed=function(l,u){a.call(this,l,u)},new o(this)},d.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(t[a])),this.encoders[a]},d.prototype.encode=function(a,s,o){return this._getEncoder(s).encode(a,o)}})(ot)),ot}var lt={},wr;function Wn(){return wr||(wr=1,(function(r){const t=r;t.Reporter=Pr().Reporter,t.EncoderBuffer=Nr().EncoderBuffer,t.Node=Dr()})(lt)),lt}var ft={},Tr;function Gn(){return Tr||(Tr=1,(function(r){const t=r;t._reverse=function(c){const d={};return Object.keys(c).forEach(function(e){(e|0)==e&&(e=e|0);const a=c[e];d[a]=e}),d},t.der=Ur()})(ft)),ft}var Ir;function $n(){return Ir||(Ir=1,(function(r){const t=r;t.define=kn().define,t.base=Wn(),t.constants=Gn(),t.encoders=Hr()})(nt)),nt}var Cr;function zn(){return Cr||(Cr=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParsedTransaction=r.DEFAULT_CHAIN_ID=void 0;const t=Vr(),n=P(),c=Fn(),d=$n();r.DEFAULT_CHAIN_ID="beeab0de00000000000000000000000000000000000000000000000000000000";class e{constructor(s,o=r.DEFAULT_CHAIN_ID){this.encode=()=>{const i=this.operations.reduce((u,E)=>Buffer.concat([u,this.encoder.encode(E,"der")]),Buffer.alloc(0));return Buffer.concat([this.encoder.encode(this.chainId,"der"),this.encoder.encode(this.ref_block_num,"der"),this.encoder.encode(this.ref_block_prefix,"der"),this.encoder.encode(this.expiration,"der"),this.encoder.encode(this.operations_count,"der"),i,this.encoder.encode(this.extensions_size,"der")])},this.rawTx=s,this.encoder=d.define("LedgerEncoder",function(){return this.octstr()}),this.chainId=Buffer.from(o,"hex"),this.ref_block_num=n.Encoder.encodeUInt16(this.rawTx.ref_block_num&65535),this.ref_block_prefix=n.Encoder.encodeUInt32(this.rawTx.ref_block_prefix),this.expiration=n.Encoder.encodeDateTime(this.rawTx.expiration),this.extensions_size=n.Encoder.encodeUInt8(this.rawTx.extensions.length),this.operations_count=n.Encoder.encodeUInt8(this.rawTx.operations.length),this.operations=this.rawTx.operations.map(t.ParsedOperation.encode)}digest(){const s=Buffer.concat([this.chainId,this.ref_block_num,this.ref_block_prefix,this.expiration,this.operations_count,this.operations.reduce((o,i)=>Buffer.concat([o,i]),Buffer.alloc(0)),this.extensions_size]);return Buffer.from((0,c.sha256)(s)).toString("hex")}id(){const s=Buffer.concat([this.ref_block_num,this.ref_block_prefix,this.expiration,this.operations_count,this.operations.reduce((o,i)=>Buffer.concat([o,i]),Buffer.alloc(0)),this.extensions_size]);return Buffer.from((0,c.sha256)(s)).toString("hex").slice(0,40)}}r.ParsedTransaction=e})(Je)),Je}const Lr={},qr={},_t=(r,t)=>{qr[r]=t},h=r=>{class t extends Error{cause;constructor(c,d,e){if(super(c||r,e),Object.setPrototypeOf(this,t.prototype),this.name=r,d)for(const a in d)this[a]=d[a];if(e&&Kn(e)&&"cause"in e&&!this.cause){const a=e.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return Lr[r]=t,t};function Kn(r){return typeof r=="object"}const Mr=r=>{if(r&&typeof r=="object"){try{if(typeof r.message=="string"){const n=JSON.parse(r.message);n.message&&n.name&&(r=n)}}catch{}let t;if(typeof r.name=="string"){const{name:n}=r,c=qr[n];if(c)t=c(r);else{let d=n==="Error"?Error:Lr[n];d||(console.warn("deserializing an unknown class '"+n+"'"),d=h(n)),t=Object.create(d.prototype);try{for(const e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}catch{}}}else typeof r.message=="string"&&(t=new Error(r.message));return t&&!t.stack&&Error.captureStackTrace&&Error.captureStackTrace(t,Mr),t}return new Error(String(r))},Jn=r=>r&&(typeof r=="object"?Fr(r,[]):typeof r=="function"?`[Function: ${r.name||"anonymous"}]`:r);function Fr(r,t){const n={};t.push(r);for(const c of Object.keys(r)){const d=r[c];if(typeof d!="function"){if(!d||typeof d!="object"){n[c]=d;continue}if(t.indexOf(r[c])===-1){n[c]=Fr(r[c],t.slice(0));continue}n[c]="[Circular]"}}return typeof r.name=="string"&&(n.name=r.name),typeof r.message=="string"&&(n.message=r.message),typeof r.stack=="string"&&(n.stack=r.stack),n}const Yn=h("AccountNameRequired"),Xn=h("AccountNotSupported"),Zn=h("AccountAwaitingSendPendingOperations"),Qn=h("AmountRequired"),eo=h("BluetoothRequired"),to=h("BtcUnmatchedApp"),ro=h("CantOpenDevice"),no=h("CashAddrNotSupported"),oo=h("ClaimRewardsFeesWarning"),io=h("CurrencyNotSupported"),co=h("DeviceAppVerifyNotSupported"),so=h("DeviceGenuineSocketEarlyClose"),ao=h("DeviceNotGenuine"),uo=h("DeviceOnDashboardExpected"),lo=h("DeviceOnDashboardUnexpected"),fo=h("DeviceInOSUExpected"),ho=h("DeviceHalted"),po=h("DeviceNameInvalid"),_o=h("DeviceSocketFail"),Eo=h("DeviceSocketNoBulkStatus"),go=h("DeviceSocketNoBulkStatus"),vo=h("UnresponsiveDeviceError"),So=h("DisconnectedDevice"),Ao=h("DisconnectedDeviceDuringOperation"),bo=h("DeviceExtractOnboardingStateError"),xo=h("DeviceOnboardingStatePollingError"),mo=h("EnpointConfig"),yo=h("EthAppPleaseEnableContractData"),Oo=h("FeeEstimationFailed"),wo=h("FirmwareNotRecognized"),To=h("HardResetFail"),Io=h("InvalidXRPTag"),Co=h("InvalidAddress"),Bo=h("InvalidNonce"),Vo=h("InvalidAddressBecauseDestinationIsAlsoSource"),Ro=h("LatestMCUInstalledError"),Po=h("LatestFirmwareVersionRequired"),No=h("UnknownMCU"),Do=h("LedgerAPIError"),Uo=h("LedgerAPIErrorWithMessage"),Ho=h("LedgerAPINotAvailable"),Lo=h("ManagerAppAlreadyInstalled"),qo=h("ManagerAppRelyOnBTC"),Mo=h("ManagerAppDepInstallRequired"),Fo=h("ManagerAppDepUninstallRequired"),jo=h("ManagerDeviceLocked"),ko=h("ManagerFirmwareNotEnoughSpace"),Wo=h("ManagerNotEnoughSpace"),Go=h("ManagerUninstallBTCDep"),$o=h("NetworkDown"),zo=h("NetworkError"),Ko=h("NoAddressesFound"),Jo=h("NotEnoughBalance"),Yo=h("NotEnoughBalanceFees"),Xo=h("NotEnoughBalanceSwap"),Zo=h("NotEnoughBalanceToDelegate"),Qo=h("NotEnoughBalanceInParentAccount"),ei=h("NotEnoughSpendableBalance"),ti=h("NotEnoughBalanceBecauseDestinationNotCreated"),ri=h("NoAccessToCamera"),ni=h("NotEnoughGas"),oi=h("NotEnoughGasSwap"),ii=h("TronEmptyAccount"),ci=h("MaybeKeepTronAccountAlive"),si=h("NotSupportedLegacyAddress"),ai=h("GasLessThanEstimate"),di=h("PriorityFeeTooLow"),ui=h("PriorityFeeTooHigh"),li=h("PriorityFeeHigherThanMaxFee"),fi=h("MaxFeeTooLow"),hi=h("PasswordsDontMatch"),pi=h("PasswordIncorrect"),_i=h("RecommendSubAccountsToEmpty"),Ei=h("RecommendUndelegation"),gi=h("TimeoutTagged"),vi=h("UnexpectedBootloader"),Si=h("MCUNotGenuineToDashboard"),Ai=h("RecipientRequired"),bi=h("UnavailableTezosOriginatedAccountReceive"),xi=h("UnavailableTezosOriginatedAccountSend"),mi=h("UpdateFetchFileFail"),yi=h("UpdateIncorrectHash"),Oi=h("UpdateIncorrectSig"),wi=h("UpdateYourApp"),Ti=h("UserRefusedDeviceNameChange"),Ii=h("UserRefusedAddress"),Ci=h("UserRefusedFirmwareUpdate"),Bi=h("UserRefusedAllowManager"),Vi=h("UserRefusedOnDevice"),Ri=h("PinNotSet"),Pi=h("ExpertModeRequired"),Ni=h("TransportOpenUserCancelled"),Di=h("TransportInterfaceNotAvailable"),Ui=h("TransportRaceCondition"),Hi=h("TransportWebUSBGestureRequired"),Li=h("TransactionHasBeenValidatedError"),qi=h("TransportExchangeTimeoutError"),Mi=h("DeviceShouldStayInApp"),Fi=h("WebsocketConnectionError"),ji=h("WebsocketConnectionFailed"),ki=h("WrongDeviceForAccount"),Wi=h("WrongDeviceForAccountPayout"),Gi=h("MissingSwapPayloadParamaters"),$i=h("WrongDeviceForAccountRefund"),zi=h("WrongAppForCurrency"),Ki=h("ETHAddressNonEIP"),Ji=h("CantScanQRCode"),Yi=h("FeeNotLoaded"),Xi=h("FeeNotLoadedSwap"),Zi=h("FeeRequired"),Qi=h("FeeTooHigh"),ec=h("PendingOperation"),tc=h("SyncError"),rc=h("PairingFailed"),nc=h("PeerRemovedPairing"),oc=h("GenuineCheckFailed"),ic=h("LedgerAPI4xx"),cc=h("LedgerAPI5xx"),sc=h("FirmwareOrAppUpdateRequired"),ac=h("ReplacementTransactionUnderpriced"),dc=h("OpReturnSizeLimit"),uc=h("DustLimit"),lc=h("LanguageNotFound"),fc=h("NoDBPathGiven"),hc=h("DBWrongPassword"),pc=h("DBNotReset"),_c=h("SequenceNumberError"),Ec=h("DisabledTransactionBroadcastError");var ht;(function(r){r.Unknown="Unknown",r.LocationServicesDisabled="LocationServicesDisabled",r.LocationServicesUnauthorized="LocationServicesUnauthorized",r.BluetoothScanStartFailed="BluetoothScanStartFailed"})(ht||(ht={}));class Et extends Error{type;constructor(t,n){super(n),this.name="HwTransportError",this.type=t,Object.setPrototypeOf(this,Et.prototype)}}class jr extends Error{id;constructor(t,n){const c="TransportError";super(t||c),this.name=c,this.message=t,this.stack=new Error(t).stack,this.id=n}}_t("TransportError",r=>new jr(r.message,r.id));const Me={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function kr(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=r&&r<=28671)return"Internal error, please report"}class Fe extends Error{statusCode;statusText;constructor(t,{canBeMappedToChildError:n=!0}={}){const c=Object.keys(Me).find(s=>Me[s]===t)||"UNKNOWN_ERROR",d=kr(t)||c,e=t.toString(16),a=`Ledger device: ${d} (0x${e})`;if(super(a),this.name="TransportStatusError",this.statusCode=t,this.statusText=c,Object.setPrototypeOf(this,Fe.prototype),n&&t===Me.LOCKED_DEVICE)return new Ge(a)}}class Ge extends Fe{constructor(t){super(Me.LOCKED_DEVICE,{canBeMappedToChildError:!1}),t&&(this.message=t),this.name="LockedDeviceError",Object.setPrototypeOf(this,Ge.prototype)}}class gt extends Error{constructor(t,n){super(n),this.name=t,Object.setPrototypeOf(this,gt.prototype)}}_t("TransportStatusError",r=>new Fe(r.statusCode));const gc=Object.freeze(Object.defineProperty({__proto__:null,AccountAwaitingSendPendingOperations:Zn,AccountNameRequiredError:Yn,AccountNotSupported:Xn,AmountRequired:Qn,BluetoothRequired:eo,BtcUnmatchedApp:to,CantOpenDevice:ro,CantScanQRCode:Ji,CashAddrNotSupported:no,ClaimRewardsFeesWarning:oo,CurrencyNotSupported:io,DBNotReset:pc,DBWrongPassword:hc,DeviceAppVerifyNotSupported:co,DeviceExtractOnboardingStateError:bo,DeviceGenuineSocketEarlyClose:so,DeviceHalted:ho,DeviceInOSUExpected:fo,DeviceMangementKitError:gt,DeviceNameInvalid:po,DeviceNeedsRestart:go,DeviceNotGenuineError:ao,DeviceOnDashboardExpected:uo,DeviceOnDashboardUnexpected:lo,DeviceOnboardingStatePollingError:xo,DeviceShouldStayInApp:Mi,DeviceSocketFail:_o,DeviceSocketNoBulkStatus:Eo,DisabledTransactionBroadcastError:Ec,DisconnectedDevice:So,DisconnectedDeviceDuringOperation:Ao,DustLimit:uc,ETHAddressNonEIP:Ki,EnpointConfigError:mo,EthAppPleaseEnableContractData:yo,ExpertModeRequired:Pi,FeeEstimationFailed:Oo,FeeNotLoaded:Yi,FeeNotLoadedSwap:Xi,FeeRequired:Zi,FeeTooHigh:Qi,FirmwareNotRecognized:wo,FirmwareOrAppUpdateRequired:sc,GasLessThanEstimate:ai,GenuineCheckFailed:oc,HardResetFail:To,HwTransportError:Et,get HwTransportErrorType(){return ht},InvalidAddress:Co,InvalidAddressBecauseDestinationIsAlsoSource:Vo,InvalidNonce:Bo,InvalidXRPTag:Io,LanguageNotFound:lc,LatestFirmwareVersionRequired:Po,LatestMCUInstalledError:Ro,LedgerAPI4xx:ic,LedgerAPI5xx:cc,LedgerAPIError:Do,LedgerAPIErrorWithMessage:Uo,LedgerAPINotAvailable:Ho,LockedDeviceError:Ge,MCUNotGenuineToDashboard:Si,ManagerAppAlreadyInstalledError:Lo,ManagerAppDepInstallRequired:Mo,ManagerAppDepUninstallRequired:Fo,ManagerAppRelyOnBTCError:qo,ManagerDeviceLockedError:jo,ManagerFirmwareNotEnoughSpaceError:ko,ManagerNotEnoughSpaceError:Wo,ManagerUninstallBTCDep:Go,MaxFeeTooLow:fi,MaybeKeepTronAccountAlive:ci,MissingSwapPayloadParamaters:Gi,NetworkDown:$o,NetworkError:zo,NoAccessToCamera:ri,NoAddressesFound:Ko,NoDBPathGiven:fc,NotEnoughBalance:Jo,NotEnoughBalanceBecauseDestinationNotCreated:ti,NotEnoughBalanceFees:Yo,NotEnoughBalanceInParentAccount:Qo,NotEnoughBalanceSwap:Xo,NotEnoughBalanceToDelegate:Zo,NotEnoughGas:ni,NotEnoughGasSwap:oi,NotEnoughSpendableBalance:ei,NotSupportedLegacyAddress:si,OpReturnDataSizeLimit:dc,PairingFailed:rc,PasswordIncorrectError:pi,PasswordsDontMatchError:hi,PeerRemovedPairing:nc,PendingOperation:ec,PinNotSet:Ri,PriorityFeeHigherThanMaxFee:li,PriorityFeeTooHigh:ui,PriorityFeeTooLow:di,RecipientRequired:Ai,RecommendSubAccountsToEmpty:_i,RecommendUndelegation:Ei,ReplacementTransactionUnderpriced:ac,SequenceNumberError:_c,StatusCodes:Me,SyncError:tc,TimeoutTagged:gi,TransactionHasBeenValidatedError:Li,TransportError:jr,TransportExchangeTimeoutError:qi,TransportInterfaceNotAvailable:Di,TransportOpenUserCancelled:Ni,TransportRaceCondition:Ui,TransportStatusError:Fe,TransportWebUSBGestureRequired:Hi,TronEmptyAccount:ii,UnavailableTezosOriginatedAccountReceive:bi,UnavailableTezosOriginatedAccountSend:xi,UnexpectedBootloader:vi,UnknownMCU:No,UnresponsiveDeviceError:vo,UpdateFetchFileFail:mi,UpdateIncorrectHash:yi,UpdateIncorrectSig:Oi,UpdateYourApp:wi,UserRefusedAddress:Ii,UserRefusedAllowManager:Bi,UserRefusedDeviceNameChange:Ti,UserRefusedFirmwareUpdate:Ci,UserRefusedOnDevice:Vi,WebsocketConnectionError:Fi,WebsocketConnectionFailed:ji,WrongAppForCurrency:zi,WrongDeviceForAccount:ki,WrongDeviceForAccountPayout:Wi,WrongDeviceForAccountRefund:$i,addCustomErrorDeserializer:_t,createCustomErrorClass:h,deserializeError:Mr,getAltStatusMessage:kr,serializeError:Jn},Symbol.toStringTag,{value:"Module"})),vc=Gr(gc);var Br;function Sc(){if(Br)return Z;Br=1;var r=Z&&Z.__awaiter||function(o,i,l,u){function E(b){return b instanceof l?b:new l(function(p){p(b)})}return new(l||(l=Promise))(function(b,p){function _(R){try{U(u.next(R))}catch(y){p(y)}}function m(R){try{U(u.throw(R))}catch(y){p(y)}}function U(R){R.done?b(R.value):E(R.value).then(_,m)}U((u=u.apply(o,i||[])).next())})};Object.defineProperty(Z,"__esModule",{value:!0});const t=Kr(),n=zn(),c=P(),d=Vr(),{TransportStatusError:e,StatusCodes:a}=vc;class s{constructor(i,l="HIVE"){this.CLA=212,this.INS_GET_PUBLIC_KEY=2,this.INS_SIGN_TRANSACTION=4,this.INS_GET_APP_VERSION=6,this.INS_GET_APP_NAME=8,this.INS_SIGN_HASH=16,this.INS_GET_SETTINGS=18,this.INS_SIGN_MESSAGE=20,this.P1_CONFIRM=1,this.P1_NON_CONFIRM=0,this.P2_NO_CHAINCODE=0,this.P1_FIRST_CHUNK=0,this.P1_SUBSEQUENT_CHUNK=128,this.P2_LAST_CHUNK=0,this.P2_WILL_BE_MORE=128,this.chunkMaxSize=200,this.exchangeData=(u,E,b)=>r(this,void 0,void 0,function*(){const p=[];let _=0,m=null;for(;_!==u.length;){u.length-_>this.chunkMaxSize?m=u.slice(_,_+this.chunkMaxSize):m=u.slice(_);const R=this.generateSignApdu(this.CLA,b,_===0?this.P1_FIRST_CHUNK:this.P1_SUBSEQUENT_CHUNK,_+m.length===u.length?this.P2_LAST_CHUNK:this.P2_WILL_BE_MORE,E,_,m);_+=m.length;const y=yield this.transport.exchange(R),q=y.readUInt16BE(y.length-2);if(q!==a.OK)throw new e(q);p.push(y)}return p[p.length-1].toString("hex").slice(0,-4)}),this.generateSignApdu=(u,E,b,p,_,m,U)=>{const R=new t.Path(_),y=m===0?R.size*4+1+U.length:U.length;return m===0?Buffer.concat([Buffer.from([u,E,b,p]),Buffer.from([y]),R.encode(),U]):Buffer.concat([Buffer.from([u,E,b,p]),Buffer.from([y]),U])},this.transport=i,i.decorateAppAPIMethods(this,["getPublicKey","signTransaction","getAppVersion","getAppName","signHash","getSettings"],l)}getPublicKey(i,l=!1,u="STM"){return r(this,void 0,void 0,function*(){const E=l?this.P1_CONFIRM:this.P1_NON_CONFIRM,b=new t.Path(i),p=yield this.transport.send(this.CLA,this.INS_GET_PUBLIC_KEY,E,this.P2_NO_CHAINCODE,b.encode()),_=1+p[0],m=p.slice(_+1,_+1+p[_]).toString("ascii");return`${u}${m.substring(3)}`})}getAppVersion(){return r(this,void 0,void 0,function*(){const i=yield this.transport.send(this.CLA,this.INS_GET_APP_VERSION,0,0);return`${i[0]}.${i[1]}.${i[2]}`})}getSettings(){return r(this,void 0,void 0,function*(){return{hashSignPolicy:(yield this.transport.send(this.CLA,this.INS_GET_SETTINGS,0,0))[0]===1}})}getAppName(){return r(this,void 0,void 0,function*(){return(yield this.transport.send(this.CLA,this.INS_GET_APP_NAME,0,0)).slice(0,-2).toString()})}signTransaction(i,l,u){return r(this,void 0,void 0,function*(){const E=new n.ParsedTransaction(i,u).encode(),b=yield this.exchangeData(E,l,this.INS_SIGN_TRANSACTION);return Object.assign(Object.assign({},i),{signatures:[b]})})}signMessage(i,l){return r(this,void 0,void 0,function*(){if(i.length>512)throw new Error("Message length should be less than 512 characters");const u=c.Encoder.encodeString(i);return this.exchangeData(u,l,this.INS_SIGN_MESSAGE)})}signHash(i,l){return r(this,void 0,void 0,function*(){const u=new t.Path(l),E=Buffer.from(i,"hex"),b=u.size*4+1+E.length,p=Buffer.concat([Buffer.from([this.CLA,this.INS_SIGN_HASH,0,0]),Buffer.from([b]),u.encode(),Buffer.from(i,"hex")]),_=yield this.transport.exchange(p),m=_.readUInt16BE(_.length-2);if(m!==a.OK)throw new e(m);return _.toString("hex").slice(0,-4)})}static getTransactionDigest(i,l=n.DEFAULT_CHAIN_ID){return new n.ParsedTransaction(i,l).digest()}static getTxId(i,l=n.DEFAULT_CHAIN_ID){return new n.ParsedTransaction(i,l).id()}static isDisplayableOnDevice(i){const l=["claim_account","create_claimed_account","witness_set_properties","account_update2","remove_proposal","update_proposal","recurrent_transfer"];return i.extensions&&i.extensions.length>0||i.operations&&i.operations.length>1||l.includes(i.operations[0][0])?!1:d.ParsedOperation.validate(i.operations[0])}}return Z.default=s,Z}var Ac=Sc();const bc=$r(Ac),us=Object.freeze(Object.defineProperty({__proto__:null,default:bc},Symbol.toStringTag,{value:"Module"}));export{us as H};
